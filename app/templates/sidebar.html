<aside id="sidebar"
    class="bg-bg-sidebar shadow-lg h-screen sticky top-0 z-20 transition-all duration-300 ease-in-out w-64 hidden md:block overflow-hidden">
    <div class="flex flex-col h-full">
        <!-- Sidebar Header -->
        <div class="p-5 flex items-center justify-between">
            <div class="flex items-center">
                <div
                    class="w-10 h-10 bg-gradient-to-br from-accent-400 to-accent-600 rounded-xl flex items-center justify-center text-fg-muted shadow-md flex-shrink-0">
                    <i class="fas fa-briefcase"></i>
                </div>
                <h1 class="text-xl font-bold text-fg-base ml-3 whitespace-nowrap">Trackdesk</h1>
            </div>
        </div>

        <!-- Sidebar Navigation -->
        <nav
            class="px-3 flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-secondary-700 scrollbar-track-transparent">
            <div class="mb-6">
                <h3 class="text-xs font-semibold text-fg-muted uppercase tracking-wider px-3 mb-3">{{ _('Main') }}</h3>
                <div class="space-y-1">
                    <!-- Dashboard Link -->
                    <a href="{{ url_for('dashboard.index', company_id=session.get('selected_company_id')) }}"
                        class="group flex items-center px-3 py-2.5 text-sm font-medium rounded-lg relative overflow-hidden {% if request.endpoint.startswith('dashboard') %}text-accent-600 bg-primary-500{% else %}text-fg-base hover:text-accent-700 hover:bg-primary-500{% endif %}">
                        <div
                            class="flex items-center justify-center w-9 h-9 {% if request.endpoint.startswith('dashboard') %}text-accent-600{% else %}text-fg-base group-hover:text-accent-600{% endif %} flex-shrink-0">
                            <i class="fas fa-tachometer-alt"></i>
                        </div>
                        <span class="ml-3 whitespace-nowrap">{{ _('Dashboard') }}</span>
                    </a>

                    <!-- Clients Link -->
                    <a href="{{ url_for('customers.index', company_id=session.get('selected_company_id')) }}"
                        class="group flex items-center px-3 py-2.5 text-sm font-medium rounded-lg relative overflow-hidden {% if request.endpoint.startswith('customers') %}text-accent-600 bg-primary-500{% else %}text-fg-base hover:text-accent-700 hover:bg-primary-500{% endif %}">
                        <div
                            class="flex items-center justify-center w-9 h-9 {% if request.endpoint.startswith('customers') %}text-accent-600{% else %}text-fg-base group-hover:text-accent-600{% endif %} flex-shrink-0">
                            <i class="fas fa-users"></i>
                        </div>
                        <span class="ml-3 whitespace-nowrap">{{ _('Clients') }}</span>
                    </a>

                    <!-- Suppliers Link -->
                    <a href="{{ url_for('suppliers.index', company_id=session.get('selected_company_id')) }}"
                        class="group flex items-center px-3 py-2.5 text-sm font-medium rounded-lg relative overflow-hidden {% if request.endpoint.startswith('suppliers') %}text-accent-600 bg-primary-500{% else %}text-fg-base hover:text-accent-700 hover:bg-primary-500{% endif %}">
                        <div
                            class="flex items-center justify-center w-9 h-9 {% if request.endpoint.startswith('suppliers') %}text-accent-600{% else %}text-fg-base group-hover:text-accent-600{% endif %} flex-shrink-0">
                            <i class="fas fa-truck"></i>
                        </div>
                        <span class="ml-3 whitespace-nowrap">{{ _('Suppliers') }}</span>
                    </a>

                    <!-- Inventory Link -->
                    <a href="{{ url_for('inventory.index', company_id=session.get('selected_company_id')) }}"
                        class="group flex items-center px-3 py-2.5 text-sm font-medium rounded-lg relative overflow-hidden {% if request.endpoint.startswith('inventory') %}text-accent-600 bg-primary-500{% else %}text-fg-base hover:text-accent-700 hover:bg-primary-500{% endif %}">
                        <div
                            class="flex items-center justify-center w-9 h-9 {% if request.endpoint.startswith('inventory') %}text-accent-600{% else %}text-fg-base group-hover:text-accent-600{% endif %} flex-shrink-0">
                            <i class="fas fa-boxes"></i>
                        </div>
                        <span class="ml-3 whitespace-nowrap">{{ _('Inventory') }}</span>
                    </a>
                </div>
            </div>

            <!-- Documents Section -->
            <div class="mb-6">
                <h3 class="text-xs font-semibold text-fg-muted uppercase tracking-wider px-3 mb-3">{{ _('Documents') }}
                </h3>
                <div class="space-y-1">
                    <!-- Orders Link -->
                    <a href="{{ url_for('orders.index', company_id=session.get('selected_company_id')) }}"
                        class="group flex items-center px-3 py-2.5 text-sm font-medium rounded-lg relative overflow-hidden {% if request.endpoint.startswith('orders') %}text-accent-600 bg-primary-500{% else %}text-fg-base hover:text-accent-700 hover:bg-primary-500{% endif %}">
                        <div
                            class="flex items-center justify-center w-9 h-9 {% if request.endpoint.startswith('orders') %}text-accent-600{% else %}text-fg-base group-hover:text-accent-600{% endif %} flex-shrink-0">
                            <i class="fas fa-file-invoice-dollar"></i>
                        </div>
                        <span class="ml-3 whitespace-nowrap">{{ _('Orders') }}</span>
                    </a>

                    <!-- Invoices Link -->
                    <a href="{{ url_for('invoices.index', company_id=session.get('selected_company_id')) }}"
                        class="group flex items-center px-3 py-2.5 text-sm font-medium rounded-lg relative overflow-hidden {% if request.endpoint.startswith('invoices') %}text-accent-600 bg-primary-500{% else %}text-fg-base hover:text-accent-700 hover:bg-primary-500{% endif %}">
                        <div
                            class="flex items-center justify-center w-9 h-9 {% if request.endpoint.startswith('invoices') %}text-accent-600{% else %}text-fg-base group-hover:text-accent-600{% endif %} flex-shrink-0">
                            <i class="fas fa-file-invoice"></i>
                        </div>
                        <span class="ml-3 whitespace-nowrap">{{ _('Invoices') }}</span>
                    </a>

                    <!-- Payments Link -->
                    <a href="{{ url_for('payments.index', company_id=session.get('selected_company_id')) }}"
                        class="group flex items-center px-3 py-2.5 text-sm font-medium rounded-lg relative overflow-hidden {% if request.endpoint.startswith('payments') %}text-accent-600 bg-primary-500{% else %}text-fg-base hover:text-accent-700 hover:bg-primary-500{% endif %}">
                        <div
                            class="flex items-center justify-center w-9 h-9 {% if request.endpoint.startswith('payments') %}text-accent-600{% else %}text-fg-base group-hover:text-accent-600{% endif %} flex-shrink-0">
                            <i class="fas fa-money-bill-wave"></i>
                        </div>
                        <span class="ml-3 whitespace-nowrap">{{ _('Payments') }}</span>
                    </a>
                </div>
            </div>

            <!-- Settings Section -->
            <div class="mb-6">
                <h3 class="text-xs font-semibold text-fg-muted uppercase tracking-wider px-3 mb-3">{{ _('Settings') }}
                </h3>

                <div class="space-y-1">
                    <a href="{{ url_for('companies.index') }}"
                        class="group flex items-center px-3 py-2.5 text-sm font-medium rounded-lg relative overflow-hidden {% if request.endpoint.startswith('companies') %}text-accent-600 bg-primary-500{% else %}text-fg-base hover:text-accent-700 hover:bg-primary-500{% endif %}">
                        <div
                            class="flex items-center justify-center w-9 h-9 {% if request.endpoint.startswith('companies') %}text-accent-600{% else %}text-fg-base group-hover:text-accent-600{% endif %} flex-shrink-0">
                            <i class="fa-solid fa-building"></i>
                        </div>
                        <span class="ml-3 whitespace-nowrap">{{ _('Companies') }}</span>
                    </a>

                    <!-- Users Link -->
                    <a href="{{ url_for('users.index') }}"
                        class="group flex items-center px-3 py-2.5 text-sm font-medium rounded-lg relative overflow-hidden {% if request.endpoint.startswith('users') %}text-accent-600 bg-primary-500{% else %}text-fg-base hover:text-accent-700 hover:bg-primary-500{% endif %}">
                        <div
                            class="flex items-center justify-center w-9 h-9 {% if request.endpoint.startswith('users') %}text-accent-600{% else %}text-fg-base group-hover:text-accent-600{% endif %} flex-shrink-0">
                            <i class="fas fa-user-cog"></i>
                        </div>
                        <span class="ml-3 whitespace-nowrap">{{ _('Users') }}</span>
                    </a>
                </div>
            </div>
        </nav>

        <!-- Sidebar Footer -->
        <div class="p-4 mt-auto border-t border-secondary-700/50">
            <div
                class="group flex items-center p-2 rounded-lg bg-secondary-700/30 hover:bg-secondary-700/50 transition-colors cursor-pointer relative">
                <!-- Avatar -->
                <div class="w-10 h-10 relative flex-shrink-0">
                    <div
                        class="w-full h-full bg-gradient-to-br from-accent-500 to-accent-300 rounded-full flex items-center justify-center text-fg-base shadow-sm">
                        <span class="text-sm font-medium">{{ current_user.name[0].upper() }}</span>
                    </div>
                    <span
                        class="absolute bottom-0 right-0 w-3 h-3 bg-green-500 border-2 border-secondary-800 rounded-full"></span>
                </div>

                <!-- User Info -->
                <div class="ml-3">
                    <p class="text-sm font-medium text-fg-base whitespace-nowrap">{{ current_user.name }}</p>
                    <p class="text-xs text-fg-base whitespace-nowrap">{{ current_user.role_id }}</p>
                </div>

                <!-- Logout Button -->
                <a href="{{ url_for('auth.logout') }}" class="ml-auto text-accent-400 hover:text-accent-500 p-1">
                    <i class="fas fa-sign-out-alt"></i>
                </a>
            </div>
        </div>
    </div>
</aside>